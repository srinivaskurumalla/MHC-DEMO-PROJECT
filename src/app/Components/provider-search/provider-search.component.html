<div class="container text-center">
  <div class="mt-3 text-primary">
    <h2>MCS - WEB SUNSET</h2>
  </div>
  <div class="m-3 text-info">
    <h3>Provider Search Mockup</h3>
  </div>
  <div class="d-flex justify-content-center align-items-center mt-5">
    <form [formGroup]="providerSearchForm" class="text-start form">
      <div class="d-flex">
        <b class="mt-1"> Provider ID :</b>

        <input
          type="text"
          class="m-0 mb-2 form-control"
          formControlName="providerId"
        />
      </div>
      <div class="d-flex">
        <b class="mt-1"> SSN / TAX ID :</b>
        <input
          type="text"
          class="m-0 mb-2 form-control"
          formControlName="ssn_TaxId"
        />
      </div>
      <div>
        <span class="d-flex">
          <b class="mt-1"> NPI Number :</b>
          <input
            type="text"
            class="m-0 mb-2 form-control"
            formControlName="npiNumber"
          />
        </span>
      </div>
      <!-- <div class="d-flex"> -->
        <div class="d-flex">
          <b class="mt-1">Provider Name:</b>
          <div class="mt-2">Last :</div>

          <input
            type="text"
            class="m-0 mb-2 form-control input-field"
            formControlName="lastName"
            [placeholder]="searchClicked && providerSearchForm.get('lastName')?.invalid && providerSearchForm.get('lastName')?.errors?.['required'] ? 'Last Name is required' : 'Last Name'"
            [ngClass]="{
              'error': searchClicked && providerSearchForm.get('lastName')?.invalid && providerSearchForm.get('lastName')?.errors?.['required']
            }"
          />
          <div class="ms-2 mt-1">First :</div>
          <input
            type="text"
            class="m-0 mb-2 form-control"
            formControlName="firstName"
          />
          <!-- <small
            class="text-danger"
            *ngIf="
              searchClicked &&
              providerSearchForm.get('lastName')?.invalid &&
              providerSearchForm.hasError('required', 'lastName')
            "
          >
            Last Name is required
          </small> -->
        </div>

      <div class="mt-3">
        <button type="reset" class="me-2 ms-5 btn btn-danger">
          Clear fields
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="providerSearchSubmit()"
        >
          Submit search
        </button>
      </div>
    </form>
  </div>

  <table
    class="table table-bordered border-primary mt-4"
    *ngIf="showTable && providerSearchForm.valid"
  >
    <thead>
      <tr>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td colspan="1"></td>
        <td class="bold-td text-success" colspan="4">Primary Location</td>
        <td class="bold-td text-danger" colspan="2">Security Fields</td>


      </tr>
      <tr class="">
        <td class="bold-td">Provider Id</td>
        <td class="bold-td">Last Name</td>
        <td class="bold-td">First Name</td>
        <td class="bold-td">Type</td>
        <td class="bold-td">LOB</td>
        <td class="bold-td">Plan</td>
        <td class="bold-td">NPI #</td>
        <td class="bold-td">Speciality</td>
        <td class="text-success bold-td">Address 1 & 2</td>
        <td class="text-success bold-td">City</td>
        <td class="text-success bold-td">Zip</td>
        <td class="text-success bold-td">Phone</td>

        <td class="text-danger bold-td">SSN / TaxId</td>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="searchedProviders.length > 0">
        <tr *ngFor="let provider of searchedProviders" class="table-active">
          <td>{{ provider.providerId }}</td>
          <td>{{ provider.lastName }}</td>
          <td>{{ provider.firstName }}</td>
          <td>{{ provider.type }}</td>
          <td>{{ provider.lob }}</td>
          <td>{{ provider.plan }}</td>
          <td>{{ provider.npiNumber }}</td>
          <td>{{ provider.speciality }}</td>
          <td>{{ provider.address_1_2 }}</td>
          <td>{{ provider.city }}</td>
          <td>{{ provider.zip }}</td>
          <td>{{ provider.phone }}</td>
          <td>{{ provider.ssn_TaxId }}</td>
        </tr>
      </ng-container>
      <ng-container *ngIf="searchedProviders.length === 0 && searchClicked">
        <tr>
          <td colspan="13">No providers found in database</td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
