<div class="container text-center">
  <div class="mt-3 text-primary">
    <h2>MCS - WEB SUNSET</h2>
  </div>
  <div class="m-3 text-info">
    <h3>Member Search Mockup</h3>
  </div>
  <div class="d-flex justify-content-center align-items-center mt-5">
    <form [formGroup]="memberSearchForm" class="text-start form">
      <div class="d-flex">
        <b class="mt-1"> Member ID :</b>

        <input
          type="text"
          class="m-0 mb-2 form-control"
          formControlName="memberId"
          style="margin-left: 54px !important ;"
        />
      </div>
      <div class="d-flex">
        <b class="mt-1"> SSN / TAX ID :</b>
        <input
          type="text"
          class="mb-2 form-control"
          formControlName="ssn_TaxId"
          style="margin-left: 54px !important ;"
        />
      </div>

      <!-- <div class="d-flex"> -->
        <div class="d-flex">
          <b class="mt-1">Member Name:</b>
          <div class="mt-2">Last :</div>

          <input
            type="text"
            class="ms-4 mb-2 form-control input-field"
            formControlName="lastName"
            [placeholder]="searchClicked && memberSearchForm.get('lastName')?.invalid && memberSearchForm.get('lastName')?.errors?.['required'] ? 'Last Name is required' : 'Last Name'"
            [ngClass]="{
              'error': searchClicked && memberSearchForm.get('lastName')?.invalid && memberSearchForm.get('lastName')?.errors?.['required']
            }"
          />
          <div class="ms-2 mt-1">First :</div>
          <input
            type="text"
            class="m-0 mb-2 form-control"
            formControlName="firstName"
          />
          <!-- <small
            class="text-danger"
            *ngIf="
              searchClicked &&
              memberSearchForm.get('lastName')?.invalid &&
              memberSearchForm.hasError('required', 'lastName')
            "
          >
            Last Name is required
          </small> -->
        </div>

      <div class="mt-3">
        <button type="reset" class="me-2 ms-5 btn btn-danger">
          Clear fields
        </button>
        <button
          type="submit"
          class="btn btn-primary"
          (click)="memberSearchSubmit()"
        >
          Submit search
        </button>
      </div>
    </form>
  </div>

  <table
    class="table table-bordered border-primary mt-4"
    *ngIf="showTable && memberSearchForm.valid"
  >
    <thead>
      <tr>
        <td colspan="1"></td>
        <td class="bold-td" colspan="3">Name</td>
        <td colspan="4"></td>
        <td class="bold-td text-success" colspan="5">Home</td>
        <td class="bold-td text-danger" colspan="2">Security Fields</td>


      </tr>
      <tr class="">
        <td class="bold-td">Member Id</td>
        <td class="bold-td">Last </td>
        <td class="bold-td">First </td>
        <td class="bold-td">Middle </td>
        <td class="bold-td">Gender</td>
        <td class="bold-td">Recipent Id</td>
        <td class="bold-td">Hicn #</td>
        <td class="bold-td">Case Number</td>
        <td class="text-success bold-td">Address 1 & 2</td>
        <td class="text-success bold-td">City</td>
        <td class="text-success bold-td">Zip</td>
        <td class="text-success bold-td">Phone</td>
        <td class="text-success bold-td">Email</td>
        <td class="text-danger bold-td">DOB</td>

        <td class="text-danger bold-td">SSN </td>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngIf="searchedMembers.length > 0">
        <tr *ngFor="let member of searchedMembers" class="table-active">
          <td>{{ member.memberId }}</td>
          <td>{{ member.lastName }}</td>
          <td>{{ member.firstName }}</td>
          <td>{{ member.middleName }}</td>
          <td>{{ member.gender }}</td>
          <td>{{ member.recipentId }}</td>
          <td>{{ member.hicn }}</td>
          <td>{{ member.caseNumber }}</td>
          <td>{{ member.address_1_2 }}</td>
          <td>{{ member.city }}</td>
          <td>{{ member.zip }}</td>
          <td>{{ member.phone }}</td>
          <td>{{ member.email }}</td>
          <td>{{ member.dob }}</td>
          <td>{{ member.ssn_TaxId }}</td>
        </tr>
      </ng-container>
      <ng-container *ngIf="searchedMembers.length === 0 && searchClicked">
        <tr>
          <td colspan="15">No members found in database</td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>
